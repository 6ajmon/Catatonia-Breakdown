[gd_scene load_steps=18 format=4 uid="uid://bmd4heeu7d464"]

[ext_resource type="Script" uid="uid://dpfutkrtppyh6" path="res://Source/Cutscenes/OutsideCutscene/OutsideCutscene.cs" id="1_6y8wg"]
[ext_resource type="PackedScene" uid="uid://b7h27xkea0igj" path="res://Source/Levels/Outside/outside.tscn" id="2_ysy3x"]
[ext_resource type="Texture2D" uid="uid://18y5ufg32ue" path="res://Assets/Models/Interior/Door/Wooden_Door.png" id="3_c45it"]
[ext_resource type="PackedScene" uid="uid://bhj21u4bkuleu" path="res://Source/Areas/CameraArea/CameraArea.tscn" id="3_ysy3x"]
[ext_resource type="PackedScene" uid="uid://ctog0jnfwead2" path="res://Source/Player/Novak/Novak.tscn" id="4_7lefy"]
[ext_resource type="Environment" uid="uid://c2l1jfgadpa0j" path="res://Assets/Environments/OutsideEnvironment.tres" id="4_ry8wh"]
[ext_resource type="PackedScene" uid="uid://bj3ka656a8osp" path="res://Source/Areas/FirstPersonCameraSwitchArea/FirstPersonCameraSwitchArea.tscn" id="6_wy8fa"]
[ext_resource type="PackedScene" uid="uid://bhnpe57oq6tq8" path="res://Source/UI/Overlays/Subtitles/SubtitlesOverlay.tscn" id="7_30rg1"]
[ext_resource type="PackedScene" uid="uid://dn71atxesfj1w" path="res://Source/UI/Overlays/Interact/InteractOverlay.tscn" id="8_c45it"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_x72sw"]
resource_name = "Material"
vertex_color_use_as_albedo = true
albedo_color = Color(2.454227, 2.454227, 2.454227, 1)
albedo_texture = ExtResource("3_c45it")
emission_enabled = true
stencil_flags = 2
stencil_color = Color(1, 1, 1, 1)
stencil_outline_thickness = 0.001

[sub_resource type="ArrayMesh" id="ArrayMesh_8l7u4"]
_surfaces = [{
"aabb": AABB(-0.01, -0.0072282087, -0.01, 0.02, 0.014456417, 0.02),
"format": 34359742465,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAgADAAAAAQAAAAQABAAAAAMABQACAAEAAwACAAUABAAGAAEAAQAGAAUAAwAHAAQABgAEAAcABQAHAAMABwAFAAYA"),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 8,
"vertex_data": PackedByteArray("CtcjvJza7DsK1yM8CtcjvJza7LsK1yM8CtcjvJza7LsK1yO8CtcjvJza7DsK1yO8CtcjPJza7DsK1yM8CtcjPJza7LsK1yO8CtcjPJza7LsK1yM8CtcjPJza7DsK1yO8")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_xdo08"]
resource_name = "Cube_021"
_surfaces = [{
"aabb": AABB(-0.01, -0.0072282087, -0.01, 0.02, 0.014456417, 0.02),
"attribute_data": PackedByteArray("kK1eP0Dfrz3w4FA/QN+vPfDgUD9+gV0/kK1eP36BXT+1HwI+AGZoPdz7Yz8AZmg93PtjPy7lej+1HwI+LuV6P/DgUD9A3689kK1eP0Dfrz2QrV4/foFdP/DgUD9+gV0/3PtjPwBmaD21HwI+AGZoPbUfAj4u5Xo/3PtjPy7lej8I0CA/ukbxPgjQID/Equo+D+DFPsSq6j4P4MU+ukbxPg/gxT66RvE+D+DFPsSq6j4I0CA/xKrqPgjQID+6RvE+"),
"format": 34359742487,
"index_count": 36,
"index_data": PackedByteArray("AAABAAIAAgADAAAABAAFAAYABgAHAAQACAAJAAoACgALAAgADAANAA4ADgAPAAwAEAARABIAEgATABAAFAAVABYAFgAXABQA"),
"material": SubResource("StandardMaterial3D_x72sw"),
"name": "Material",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 24,
"vertex_data": PackedByteArray("CtcjvJza7DsK1yM8CtcjvJza7LsK1yM8CtcjvJza7LsK1yO8CtcjvJza7DsK1yO8CtcjPJza7DsK1yM8CtcjvJza7DsK1yM8CtcjvJza7DsK1yO8CtcjPJza7DsK1yO8CtcjPJza7LsK1yM8CtcjPJza7DsK1yM8CtcjPJza7DsK1yO8CtcjPJza7LsK1yO8CtcjvJza7LsK1yM8CtcjPJza7LsK1yM8CtcjPJza7LsK1yO8CtcjvJza7LsK1yO8CtcjPJza7LsK1yO8CtcjPJza7DsK1yO8CtcjvJza7DsK1yO8CtcjvJza7LsK1yO8CtcjvJza7LsK1yM8CtcjvJza7DsK1yM8CtcjPJza7DsK1yM8CtcjPJza7LsK1yM8AAD/f/9/AAAAAP9//38AAAAA/3//fwAAAAD/f/9/AAD/f///AAD/v/9///8AAP+//3///wAA/7//f///AAD/v////3//f///////f/9///////9//3///////3//f////38AAAAA/z//fwAAAAD/P/9/AAAAAP8//38AAAAA/z//////////P/////////8//////////z//////////P/9//3////+//3//f////7//f/9/////v/9//3////+/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_8l7u4")

[sub_resource type="BoxShape3D" id="BoxShape3D_7lefy"]
size = Vector3(4.5408936, 4.2597656, 15.52346)

[sub_resource type="BoxShape3D" id="BoxShape3D_ysy3x"]
size = Vector3(17.65561, 4.1026, 9.716583)

[sub_resource type="BoxShape3D" id="BoxShape3D_wy8fa"]
size = Vector3(8, 5, 15)

[sub_resource type="BoxShape3D" id="BoxShape3D_surbq"]
size = Vector3(7.592842, 3.2055664, 6.8060074)

[sub_resource type="BoxShape3D" id="BoxShape3D_30rg1"]
size = Vector3(3.8839111, 5.6517334, 5.3952637)

[node name="OutsideCutscene" type="Node3D" node_paths=PackedStringArray("subtitlesOverlay")]
script = ExtResource("1_6y8wg")
subtitlesOverlay = NodePath("SubtitlesOverlay")

[node name="Outside" parent="." instance=ExtResource("2_ysy3x")]

[node name="Concrete2" parent="Outside/Floor/PavementConcreteSequence" index="2"]
transform = Transform3D(-4.371139e-08, 0, 1, 0, 1, 0, -1, 0, -4.371139e-08, -21.40736, 1.9073486e-06, 22.25333)

[node name="Cube" parent="Outside/Interactable/InteractableDoor/EntranceDoor" index="0"]
mesh = SubResource("ArrayMesh_xdo08")

[node name="StaticCameras" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 59.59189, 0, -46.222584)

[node name="CameraArea" parent="StaticCameras" instance=ExtResource("3_ysy3x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.9177017, 3.6251016, -9.084702)

[node name="StaticCamera3D" parent="StaticCameras/CameraArea" index="0"]
transform = Transform3D(-0.9135455, -0.1121118, 0.3909803, 0, 0.9612617, 0.27563736, -0.40673658, 0.25180727, -0.8781563, 1.5597382, -0.265316, 1.8308334)
environment = ExtResource("4_ry8wh")
fov = 50.0

[node name="AreaCollisionShape3D" parent="StaticCameras/CameraArea" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.7704468, -1.8523395, 14.6875305)
shape = SubResource("BoxShape3D_7lefy")

[node name="CameraArea2" parent="StaticCameras" instance=ExtResource("3_ysy3x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.1758614, 1.8921704, 10.570412)
ShouldLookAtPlayer = true

[node name="StaticCamera3D" parent="StaticCameras/CameraArea2" index="0"]
transform = Transform3D(-0.25881895, 0.4829629, -0.8365164, -6.5567086e-08, 0.8660254, 0.50000006, 0.9659259, 0.12940954, -0.22414376, -6.6669044, 2.8029914, -0.907856)
environment = ExtResource("4_ry8wh")
fov = 55.0

[node name="AreaCollisionShape3D" parent="StaticCameras/CameraArea2" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.1204987, 0.17733765, 2.7684479)
shape = SubResource("BoxShape3D_ysy3x")

[node name="CameraArea3" parent="StaticCameras" instance=ExtResource("3_ysy3x")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 5.486618, 0, -9.79081)

[node name="StaticCamera3D" parent="StaticCameras/CameraArea3" index="0"]
transform = Transform3D(1.1356551e-07, 0.5, -0.8660254, -6.556708e-08, 0.8660254, 0.5, 1, 0, 1.3113416e-07, -3.7127075, 4.5451994, 2.7483864)
environment = ExtResource("4_ry8wh")
fov = 75.0

[node name="AreaCollisionShape3D" parent="StaticCameras/CameraArea3" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.2529297, 2, 0.21264648)
shape = SubResource("BoxShape3D_wy8fa")

[node name="FirstPersonCameras" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 56.368248, 0, -36.122974)

[node name="FirstPersonCameraSwitchArea" parent="FirstPersonCameras" instance=ExtResource("6_wy8fa")]

[node name="CollisionShape3D" parent="FirstPersonCameras/FirstPersonCameraSwitchArea" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.08024979, 1.0080566, 5.0438957)
shape = SubResource("BoxShape3D_surbq")

[node name="FirstPersonCameraSwitchArea2" parent="FirstPersonCameras" instance=ExtResource("6_wy8fa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 8.758591, 2.0189688, -24.061481)

[node name="CollisionShape3D" parent="FirstPersonCameras/FirstPersonCameraSwitchArea2" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.023498535, -0.4718628, 0.03845215)
shape = SubResource("BoxShape3D_30rg1")

[node name="Novak" parent="." instance=ExtResource("4_7lefy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 65.5357, 0, -56.524265)

[node name="Camera3D" parent="Novak" index="1"]
environment = ExtResource("4_ry8wh")

[node name="Skeleton3D" parent="Novak/Skeleton" index="0"]
bones/0/position = Vector3(0.0018395765, 1.0886271, 0.0005009044)
bones/0/rotation = Quaternion(-0.029547915, -0.050777093, -0.029538635, 0.99783576)
bones/1/rotation = Quaternion(0.005692328, 0.011314174, 0.02140762, 0.9996906)
bones/2/rotation = Quaternion(0.010218441, 0.0026599816, 0.0137759885, 0.99984944)
bones/3/rotation = Quaternion(0.009984576, 0.0028335003, 0.013797093, 0.999851)
bones/4/rotation = Quaternion(0.07158997, -0.001163011, 0.0044244085, 0.99742377)
bones/5/rotation = Quaternion(-0.06697685, 0.010827696, -0.0011845892, 0.99769515)
bones/7/rotation = Quaternion(-0.7096936, -0.28690618, 0.5298166, -0.36512205)
bones/8/rotation = Quaternion(0.4128546, 0.1595587, 0.08015575, 0.89312226)
bones/9/rotation = Quaternion(0.00035677737, 0.0008152278, 0.012875533, 0.9999168)
bones/10/rotation = Quaternion(0.049563628, -0.27116862, 0.024073094, 0.9609535)
bones/19/rotation = Quaternion(0.7058358, -0.2857433, 0.5497954, 0.3433243)
bones/20/rotation = Quaternion(0.33791474, -0.24815188, -0.096085146, 0.9027747)
bones/21/rotation = Quaternion(0.0017602004, -0.00078526506, -0.05811918, 0.9983078)
bones/22/rotation = Quaternion(0.05966602, 0.1618532, -0.0048081726, 0.9849977)
bones/31/rotation = Quaternion(0.13764764, 0.06817301, 0.98533887, -0.07424953)
bones/32/rotation = Quaternion(-0.11610689, -0.017028723, 0.039267916, 0.9923141)
bones/33/rotation = Quaternion(0.46849227, -0.09631313, -0.018636845, 0.87800425)
bones/36/rotation = Quaternion(-0.089837775, -0.024086861, 0.9950938, -0.0337258)
bones/37/rotation = Quaternion(-0.051071763, 0.084307514, -0.03358197, 0.99456334)
bones/38/rotation = Quaternion(0.48799837, 0.08889332, -0.01429127, 0.86818856)
bones/39/rotation = Quaternion(0.35805246, 0.0028560236, 0.004175308, 0.93368787)

[node name="InteractOverlay" parent="." instance=ExtResource("8_c45it")]

[node name="SubtitlesOverlay" parent="." instance=ExtResource("7_30rg1")]

[connection signal="body_entered" from="StaticCameras/CameraArea3" to="." method="OnReturningPlayerEntered"]

[editable path="Outside"]
[editable path="Outside/Interactable/InteractableDoor"]
[editable path="Outside/Interactable/GarbageEnclosureGate"]
[editable path="Outside/Interactable/GarbageEnclosureGate/gate2"]
[editable path="StaticCameras/CameraArea"]
[editable path="StaticCameras/CameraArea/StaticCamera3D"]
[editable path="StaticCameras/CameraArea2"]
[editable path="StaticCameras/CameraArea2/StaticCamera3D"]
[editable path="StaticCameras/CameraArea3"]
[editable path="StaticCameras/CameraArea3/StaticCamera3D"]
[editable path="FirstPersonCameras/FirstPersonCameraSwitchArea"]
[editable path="FirstPersonCameras/FirstPersonCameraSwitchArea2"]
[editable path="Novak"]
[editable path="Novak/Camera3D"]
[editable path="Novak/StateMachine"]
