[gd_scene load_steps=11 format=3 uid="uid://dkhjaw240tdsv"]

[ext_resource type="Script" uid="uid://dfhugt5a41xap" path="res://Source/Cutscenes/SleepingCutscene.cs" id="1_3odj2"]
[ext_resource type="Environment" uid="uid://baovmqpb3bjs3" path="res://Assets/Environments/ApartmentEnvironment.tres" id="4_degfx"]
[ext_resource type="PackedScene" uid="uid://dn71atxesfj1w" path="res://Source/UI/Overlays/Interact/InteractOverlay.tscn" id="4_r1oxk"]
[ext_resource type="PackedScene" uid="uid://ba23yf3qln6nm" path="res://Source/Components/CameraWithShader/CameraWithShader.tscn" id="7_b5mpt"]
[ext_resource type="PackedScene" uid="uid://b7h27xkea0igj" path="res://Source/Levels/Outside/outside.tscn" id="8_degfx"]
[ext_resource type="PackedScene" uid="uid://cdf81rys0cvt1" path="res://Source/Levels/Apartment/Apartment.tscn" id="8_x15du"]
[ext_resource type="Shader" uid="uid://dcagafjin1r8f" path="res://Source/Shaders/CCTVOldCamera/CCTVOldCamera.gdshader" id="19_pku13"]
[ext_resource type="PackedScene" uid="uid://bhnpe57oq6tq8" path="res://Source/UI/Overlays/Subtitles/SubtitlesOverlay.tscn" id="25_3yq8m"]

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_3yq8m"]
exposure_multiplier = 0.3

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rh146"]
shader = ExtResource("19_pku13")
shader_parameter/exposure = 1.20000005048023
shader_parameter/contrast = 1.05
shader_parameter/saturation = 0.8
shader_parameter/enable_pixelate = true
shader_parameter/pixel_factor = 5.00000019
shader_parameter/enable_posterize = true
shader_parameter/color_levels = 8.0
shader_parameter/dither_strength = 0.35
shader_parameter/chrom_aberration = 0.014000000665
shader_parameter/vignette_strength = 1.2
shader_parameter/grain_strength = 0.0510000024225
shader_parameter/tint_strength = 0.25
shader_parameter/scanline_density = 240.0
shader_parameter/scanline_strength = 0.15
shader_parameter/glitch_strength = 0.06000000285
shader_parameter/glitch_speed = 1.0000000475
shader_parameter/viewport_size_override = Vector2(0, 0)

[node name="SleepingCutscene" type="Node3D" node_paths=PackedStringArray("bedCamera", "windowCamera", "subtitlesOverlay")]
script = ExtResource("1_3odj2")
bedCamera = NodePath("Cameras/BedCamera")
windowCamera = NodePath("Cameras/WindowCamera")
subtitlesOverlay = NodePath("SubtitlesOverlay")

[node name="Apartment" parent="." instance=ExtResource("8_x15du")]

[node name="Novak" parent="Apartment" index="10"]
transform = Transform3D(1, 0, 0, 0, 0.077676155, 0.99697864, 0, -0.99697864, 0.077676155, 2.3785274, 0.6516179, -1.8339236)

[node name="Outside" parent="." instance=ExtResource("8_degfx")]
transform = Transform3D(-1.172251e-07, 0, -1, 0, 1, 0, 1, 0, -1.172251e-07, -57.379738, -11.411476, -56.719738)

[node name="MainHouse" parent="Outside/Buildings" index="19"]
visible = false

[node name="Skeleton3D" parent="Outside/Novak/Skeleton" index="0"]
bones/0/position = Vector3(0.00310381, 1.08855, -0.0023965957)
bones/0/rotation = Quaternion(-0.032000396, -0.04604542, -0.028785642, 0.9980117)
bones/1/rotation = Quaternion(0.0056738877, 0.012255413, 0.022270227, 0.99966085)
bones/2/rotation = Quaternion(0.010161673, 0.00222414, 0.013759227, 0.9998512)
bones/3/rotation = Quaternion(0.00992899, 0.0024143856, 0.013791684, 0.9998528)
bones/4/rotation = Quaternion(0.072474174, -0.0010552878, 0.004019855, 0.99736166)
bones/5/rotation = Quaternion(-0.06600396, 0.011869742, -0.0014823636, 0.99774766)
bones/7/rotation = Quaternion(-0.7099257, -0.28652224, 0.5299654, -0.36475652)
bones/8/rotation = Quaternion(0.4125982, 0.15659387, 0.08057865, 0.8937272)
bones/9/rotation = Quaternion(0.00035360616, 0.0008153627, 0.012754753, 0.99991834)
bones/10/rotation = Quaternion(0.048886348, -0.27267256, 0.026201496, 0.96050674)
bones/19/rotation = Quaternion(0.70651037, -0.28491026, 0.5494081, 0.3432494)
bones/20/rotation = Quaternion(0.33922666, -0.2468567, -0.096288756, 0.902616)
bones/21/rotation = Quaternion(0.0017669776, -0.0007852601, -0.058343794, 0.9982947)
bones/22/rotation = Quaternion(0.05885758, 0.16239819, -0.004885893, 0.98495626)
bones/31/rotation = Quaternion(0.13632654, 0.06675828, 0.98576117, -0.07234208)
bones/32/rotation = Quaternion(-0.11349714, -0.01407825, 0.039067063, 0.9926701)
bones/33/rotation = Quaternion(0.46710142, -0.09572168, -0.017767128, 0.8788277)
bones/36/rotation = Quaternion(-0.09053177, -0.022962796, 0.9951045, -0.03230803)
bones/37/rotation = Quaternion(-0.056338076, 0.083813496, -0.0341598, 0.99430096)
bones/38/rotation = Quaternion(0.4890231, 0.092870496, -0.015388068, 0.8671763)
bones/39/rotation = Quaternion(0.3588248, 0.0029761672, 0.0042051557, 0.93339074)

[node name="Cameras" type="Node3D" parent="."]

[node name="BedCamera" type="Camera3D" parent="Cameras" groups=["StaticCameras"]]
transform = Transform3D(1, 0, 0, 0, 0.42302957, 0.90611595, 0, -0.90611595, 0.42302957, 2.358228, 1.8972723, -2.834449)
environment = ExtResource("4_degfx")
attributes = SubResource("CameraAttributesPractical_3yq8m")
fov = 35.0

[node name="ColorRect" type="ColorRect" parent="Cameras/BedCamera"]
material = SubResource("ShaderMaterial_rh146")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="WindowCamera" type="Camera3D" parent="Cameras" groups=["StaticCameras"]]
transform = Transform3D(0.2848236, -0.4267381, 0.8583532, 0.056347355, 0.9013475, 0.4294156, -0.9569224, -0.07394177, 0.2807706, -1.8024377, 2.3198814, 1.6712842)
environment = ExtResource("4_degfx")
attributes = SubResource("CameraAttributesPractical_3yq8m")
current = true
fov = 35.0

[node name="ColorRect" type="ColorRect" parent="Cameras/WindowCamera"]
material = SubResource("ShaderMaterial_rh146")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="BedWithShader" parent="Cameras" instance=ExtResource("7_b5mpt")]
transform = Transform3D(1, 0, 0, 0, 0.4230295, 0.9061159, 0, -0.9061159, 0.4230295, 2.358228, 1.8972723, -2.834449)
fov = 35.0

[node name="CameraWithShader2" parent="Cameras" instance=ExtResource("7_b5mpt")]

[node name="InteractOverlay" parent="." instance=ExtResource("4_r1oxk")]
offset_right = 139.0
offset_bottom = 94.0

[node name="SubtitlesOverlay" parent="." instance=ExtResource("25_3yq8m")]

[editable path="Apartment"]
[editable path="Apartment/Walls/WindowMesh/FirstPersonCameraSwitchArea"]
[editable path="Apartment/CameraArea"]
[editable path="Apartment/CameraArea/StaticCamera3D"]
[editable path="Apartment/EntranceDoor"]
[editable path="Apartment/Lamp"]
[editable path="Outside"]
[editable path="Outside/Novak"]
[editable path="Outside/Novak/Camera3D"]
[editable path="Outside/Novak/StateMachine"]
